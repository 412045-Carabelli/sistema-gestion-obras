# ==================================
#  Render deployment configuration
# ==================================

server.port=${PORT:8087}
spring.application.name=documentos-service

# ------------------------------
#  PostgreSQL datasource
# ------------------------------
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/documentos}
spring.datasource.username=${DATABASE_USERNAME:postgres}
spring.datasource.password=${DATABASE_PASSWORD:postgres}
spring.datasource.driver-class-name=org.postgresql.Driver

# ------------------------------
#  JPA / Hibernate
# ------------------------------
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.show-sql=${JPA_SHOW_SQL:false}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=false
spring.jpa.defer-datasource-initialization=false
spring.sql.init.mode=never

# ------------------------------
#  File storage
# ------------------------------
file.upload-dir=${UPLOAD_DIR:/opt/render/project/src/uploads}
spring.servlet.multipart.location=${file.upload-dir}

# ------------------------------
#  Logging
# ------------------------------
logging.level.org.springframework.jdbc.datasource.init=${SPRING_JDBC_INIT_LOG_LEVEL:ERROR}
logging.level.org.hibernate.SQL=${HIBERNATE_SQL_LOG_LEVEL:ERROR}
