# ============================
# ? DEV - LOCALHOST
# ============================
server.port=8080

# ------------------------------
#  Gateway routes
# ------------------------------
spring.cloud.gateway.routes[0].id=obras
spring.cloud.gateway.routes[0].uri=http://localhost:8081
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/obras/**

spring.cloud.gateway.routes[1].id=clientes
spring.cloud.gateway.routes[1].uri=http://localhost:8082
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/clientes/**

spring.cloud.gateway.routes[2].id=proveedores
spring.cloud.gateway.routes[2].uri=http://localhost:8083
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/proveedores/**

spring.cloud.gateway.routes[3].id=documentos
spring.cloud.gateway.routes[3].uri=http://localhost:8087
spring.cloud.gateway.routes[3].predicates[0]=Path=/api/documentos/**

spring.cloud.gateway.routes[4].id=transacciones
spring.cloud.gateway.routes[4].uri=http://localhost:8086
spring.cloud.gateway.routes[4].predicates[0]=Path=/api/transacciones/**

spring.cloud.gateway.routes[5].id=reportes
spring.cloud.gateway.routes[5].uri=http://localhost:8084
spring.cloud.gateway.routes[5].predicates[0]=Path=/api/reportes/**

# ------------------------------
#  Service base URLs
# ------------------------------
services.obras.url=http://localhost:8081/api/obras
services.clientes.url=http://localhost:8082/api/clientes
services.proveedores.url=http://localhost:8083/api/proveedores
services.documentos.url=http://localhost:8087/api/documentos
services.transacciones.url=http://localhost:8086/api/transacciones
services.reportes.url=http://localhost:8084/api/reportes

# ------------------------------
#  CORS configuration
# ------------------------------
spring.cloud.gateway.globalcors.add-to-simple-url-handler-mapping=true
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedOrigins[0]=http://localhost:4200
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedMethods=*
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowedHeaders=*
spring.cloud.gateway.globalcors.corsConfigurations.[/**].allowCredentials=true

# ------------------------------
#  SQL / Hibernate
# ------------------------------
spring.sql.init.mode=always
spring.jpa.hibernate.ddl-auto=create
spring.jpa.defer-datasource-initialization=true
