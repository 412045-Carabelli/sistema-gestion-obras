<p-toast position="bottom-right"></p-toast>
<p-confirmDialog></p-confirmDialog>

<div class="flex justify-between items-center">
  @switch (true) {

    @case (currentRoute === '/proveedores') {
      <div class="relative flex justify-between items-center w-full bg-gradient-to-r from-purple-600 to-purple-800 p-8 shadow-lg text-white overflow-hidden">
        <div class="absolute inset-0 opacity-10">
          <div class="absolute -right-10 -top-10 w-40 h-40 bg-white rounded-full"></div>
          <div class="absolute -left-10 -bottom-10 w-32 h-32 bg-white rounded-full"></div>
        </div>

        <div class="relative z-10">
          <h1 class="text-3xl font-bold mb-2">Proveedores</h1>
          <p class="text-purple-100">Gestión de todos los proveedores</p>
        </div>

        <p-button
          label="Nuevo Proveedor"
          icon="pi pi-plus"
          routerLink="/proveedores/nueva"
          styleClass="p-button">
        </p-button>
      </div>
    }
    @case (currentRoute === '/proveedores/nueva') {
      <div class="relative flex justify-between items-center w-full bg-gradient-to-r from-green-600 to-green-800 p-8 shadow-lg text-white overflow-hidden">
        <div class="absolute inset-0 opacity-10">
          <div class="absolute -right-10 -top-10 w-40 h-40 bg-white rounded-full"></div>
          <div class="absolute -left-10 -bottom-10 w-32 h-32 bg-white rounded-full"></div>
        </div>

        <div class="relative z-10">
          <h1 class="text-3xl font-bold mb-2">Nuevo Proveedor</h1>
          <p class="text-green-100">Registrar un nuevo proveedor en el sistema</p>
        </div>

        <p-button
          label="Volver al listado"
          icon="pi pi-arrow-left"
          (onClick)="goBack()"
          styleClass="p-button">
        </p-button>
      </div>
    }
    @case (currentRoute.includes('/proveedores/editar')) {
      <div class="relative flex justify-between items-center w-full bg-gradient-to-r from-blue-600 to-blue-800 p-8 shadow-lg text-white overflow-hidden">
        <div class="absolute inset-0 opacity-10">
          <div class="absolute -right-10 -top-10 w-40 h-40 bg-white rounded-full"></div>
          <div class="absolute -left-10 -bottom-10 w-32 h-32 bg-white rounded-full"></div>
        </div>

        <div class="relative z-10">
          <h1 class="text-3xl font-bold mb-2">Editar Proveedor</h1>
          <p class="text-blue-100">Actualizar datos de contacto</p>
        </div>
        <p-button
          label="Volver al listado"
          icon="pi pi-arrow-left"
          (onClick)="goBack()"
          styleClass="p-button">
        </p-button>
      </div>
    }
    @case (isDetail()) {
      @if (proveedor) {
        <!-- ===================== HEADER CON GRADIENTE ===================== -->
        <div class="relative w-full bg-gradient-to-r from-indigo-600 to-indigo-800 items-center shadow-lg p-8 text-white overflow-hidden">
          <!-- Patrón decorativo de fondo -->
          <div class="absolute inset-0 opacity-10">
            <div class="absolute -right-10 -top-10 w-40 h-40 bg-white rounded-full"></div>
            <div class="absolute -left-10 -bottom-10 w-32 h-32 bg-white rounded-full"></div>
          </div>

          <div class="relative z-10 flex justify-between items-center flex-wrap gap-4">
            <div class="space-y-2">
              <h1 class="text-3xl font-bold">{{ proveedor.nombre }}</h1>
              <div class="flex items-center gap-4 text-indigo-100">
                @if (proveedor.email) {
                  <div class="flex items-center gap-2">
                    <i class="pi pi-envelope"></i>
                    <p class="text-base">{{ proveedor.email }}</p>
                  </div>
                }
                @if (proveedor.telefono) {
                  <div class="flex items-center gap-2">
                    <i class="pi pi-phone"></i>
                    <p class="text-base">{{ proveedor.telefono }}</p>
                  </div>
                }
              </div>
            </div>
            <div class="flex items-center gap-5">
              <p-button
                icon="pi pi-pencil"
                severity="secondary"
                [outlined]="true"
                styleClass="p-button-rounded bg-white/20 hover:bg-white/30 border-white/30 text-white"
                [routerLink]="['/proveedores/editar', proveedor.id]"
                pTooltip="Editar proveedor"
                tooltipPosition="top">
              </p-button>
              <p-button
                [icon]="proveedor.activo ? 'pi pi-ban' : 'pi pi-check'"
                [severity]="proveedor.activo ? 'danger' : 'success'"
                [outlined]="true"
                styleClass="p-button-rounded bg-white/20 hover:bg-white/30 border-white/30 text-white"
                (onClick)="toggleActivo()"
                [pTooltip]="proveedor.activo ? 'Desactivar proveedor' : 'Activar proveedor'"
                tooltipPosition="top">
              </p-button>
              <p-button
                label="Volver al listado"
                icon="pi pi-arrow-left"
                (onClick)="goBack()"
                styleClass="p-button">
              </p-button>
            </div>
          </div>
        </div>
      } @else {
        <!-- Loading o placeholder mientras carga el proveedor -->
        <div class="w-full relative bg-gradient-to-r from-gray-300 to-gray-400 shadow-lg p-8 animate-pulse">
          <div class="space-y-3">
            <div class="h-8 bg-white/30 rounded w-1/3"></div>
            <div class="h-4 bg-white/30 rounded w-1/4"></div>
          </div>
        </div>
      }
    }
    @default {
      <div>
        <h1 class="text-3xl font-semibold text-gray-800 m-0">Gestión de Proveedores</h1>
      </div>
    }
  }
</div>

<div class="p-5 bg-gray-50">
  <router-outlet></router-outlet>
</div>
