<form appPreventInvalidSubmit (ngSubmit)="onSubmit()" [formGroup]="form" class="space-y-5 flex flex-col gap-5">
  <div class="flex flex-col flex-wrap gap-5">
    <div class="flex gap-5">
      <div class="min-h-[72px] w-full">
        <label class="block text-sm font-medium mb-1">Nombre</label>
        <input class="w-full" formControlName="nombre" pInputText/>
      </div>
      <div class="min-h-[72px] w-full">
        <label class="block text-sm font-medium mb-1">Contacto</label>
        <input class="w-full" formControlName="contacto" pInputText/>
      </div>
    </div>

    <div class="flex gap-5">
      <div class="min-h-[72px] w-full">
        <label class="block text-sm font-medium mb-1">Telefono</label>
        <input class="w-full" formControlName="telefono" pInputText/>
      </div>

      <div class="min-h-[72px] w-full">
        <label class="block text-sm font-medium mb-1">Direccion</label>
        <input class="w-full" formControlName="direccion" pInputText/>
      </div>
    </div>

    <div class="flex gap-5">
      <div class="min-h-[72px] w-full">
        <label class="block text-sm font-medium mb-1">DNI/CUIT</label>
        <input class="w-full" formControlName="cuit" pInputText/>
      </div>

      <div class="flex gap-5 min-h-[72px] w-full">
        <div class="min-h-[72px] flex-1">
          <label class="block text-sm font-medium mb-1">Tipo</label>
          <p-dropdown
            class="w-full"
            styleClass="w-full"
            formControlName="tipo_proveedor"
            [options]="tiposOptions"
            optionLabel="label"
            optionValue="name"
            [showClear]="true"
            [filter]="true"
            placeholder="Selecciona un tipo"
            (onChange)="onTipoChange($event.value)">
          </p-dropdown>
        </div>

        <div class="min-h-[72px] flex-1">
          <label class="block text-sm font-medium mb-1">
            Gremio <span class="text-xs font-normal text-gray-500">(opcional)</span>
          </label>
          <p-dropdown
            class="w-full"
            styleClass="w-full"
            formControlName="gremio"
            [options]="gremiosOptions"
            optionLabel="label"
            optionValue="name"
            [showClear]="true"
            [filter]="true"
            placeholder="Selecciona un gremio"
            (onChange)="onGremioChange($event.value)">
          </p-dropdown>
        </div>
      </div>
    </div>
    <div>
      <label class="block text-sm font-medium mb-1">Email</label>
      <input class="w-full" formControlName="email" pInputText/>
    </div>
  </div>

  <p-button [disabled]="form.invalid" icon="pi pi-check" label="Guardar" type="submit"></p-button>
</form>

<app-modal
  [visible]="showTipoModal"
  [title]="'Nuevo tipo de proveedor'"
  [showFooter]="true"
  (closed)="closeTipoModal()"
  (confirmed)="crearNuevoTipo()">
  <form [formGroup]="nuevoTipoForm" class="flex flex-col gap-3 py-2">
    <label class="text-sm font-medium">Nombre del tipo</label>
    <input pInputText formControlName="nombre" placeholder="Ej: Albanil">
  </form>
</app-modal>

<app-modal
  [visible]="showGremioModal"
  [title]="'Nuevo gremio'"
  [showFooter]="true"
  (closed)="closeGremioModal()"
  (confirmed)="crearNuevoGremio()">
  <form [formGroup]="nuevoGremioForm" class="flex flex-col gap-3 py-2">
    <label class="text-sm font-medium">Nombre del gremio</label>
    <input pInputText formControlName="nombre" placeholder="Ej: Electricistas">
  </form>
</app-modal>
